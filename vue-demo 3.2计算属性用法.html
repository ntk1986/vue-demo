<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Vue 计算属性用法</title>
		<script src="https://unpkg.com/vue@2.7.14/dist/vue.min.js"></script>
	</head>
	<body>
		<div id="app">
			总价：{{ prices }}
		</div>
		<br />
		<div id="app1"></div>
		<div id="app2">
			{{reversedText}}
		</div>
		<script>
			new Vue({
				el: '#app',
				data: {
					package1: [{
							name: 'iphone 7',
							price: 7199,
							count: 2
						},
						{
							name: 'ipad',
							price: 2888,
							count: 1
						}
					],
					package2: [{
							name: 'apple',
							price: 3,
							count: 6
						},
						{
							name: 'banana',
							price: 3,
							count: 10
						}
					]
				},
				// 计算属性：表达式过长，或逻辑复杂，使用计算逻辑实现。
				computed: {
					prices: function() {
						var prices = 0;
						for (var i = 0; i < this.package1.length; i++) {
							prices += this.package1[i].price * this.package1[i].count;
						}
						for (var i = 0; i < this.package2.length; i++) {
							prices += this.package2[i].price * this.package2[i].count;
						}
						return prices;
					}
				}
			})

			var app1 = new Vue({
				el: '#app1',
				data: {
					text: '123,456,789'
				}
			})

			var app2 = new Vue({
				el: '#app2',
				computed: {
					reversedText: function() {
						// 计算属性可以使用另一个Vue实例的data
						return app1.text.split(',').reverse().join(',');
					}
				}
			})
		</script>
	</body>
</html>